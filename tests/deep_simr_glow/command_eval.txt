
for i in barlow hsic infonce none pearson vicreg; 
  do 
    echo "$i"
    python eval_conditional_gaussian.py \
      --run-dir runs2/t1_t2_fa_128x128_${i} \
      --use-ema \
      --gauss-samples 10000 --eval-samples 256 --batch 64 \
      --cov-mode perlevel \
      --cov-estimator diag --cov-lam 0.0 \
      --shrinkage 1e-6 \
      --cov-debug \
      --eval-tag gauss_minreg

  done  



for i in hsic infonce none barlow pearson vicreg; do
  echo "$i"
  python eval_conditional_gaussian.py \
    --run-dir runs/t1_t2_fa_128x128_${i} \
    --use-ema \
    --gauss-samples 10000 \
    --eval-samples 256 \
    --batch 64 \
    --jitter 1e-3 \
    --eval-tag cca \
    --cca perlevel \
    --cca-k 64 \
    --cca-alpha 0.1 \
    --cca-safe shrink \
    --gamma 0.8 \
    --eval-tag cca_r0p1 \
    --device cuda:1
done
